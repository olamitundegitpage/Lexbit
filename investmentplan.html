<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lexbit - Investment Plans</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .plan-card {
            transition: all 0.3s ease;
        }
        .plan-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        .mobile-menu {
            display: none;
            position: fixed;
            top: 0;
            right: 0;
            width: 80%;
            max-width: 300px;
            height: 100vh;
            background-color: white;
            box-shadow: -4px 0 6px rgba(0, 0, 0, 0.1);
            z-index: 50;
            transform: translateX(100%);
            transition: transform 0.3s ease-in-out;
        }
        .mobile-menu.active {
            display: block;
            transform: translateX(0);
        }
        .menu-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            z-index: 40;
        }
        .menu-overlay.active {
            display: block;
        }
        .modal-content {
            background: white;
            padding: 2rem;
            border-radius: 0.5rem;
            width: 90%;
            max-width: 400px;
        }
        .investment-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        .investment-modal.active {
            display: flex;
        }
        .investment-modal-content {
            background: white;
            padding: 2rem;
            border-radius: 0.5rem;
            width: 90%;
            max-width: 450px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">
    <!-- Navigation -->
    <nav class="bg-white shadow-sm relative">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
           <div class="flex items-center space-x-2">
                <i class="fas fa-coins text-2xl text-yellow-400"></i>
                <a href="index.html"><h1 class="text-2xl font-bold">LexBit</h1></a>
            </div>
            
            <!-- Desktop Navigation -->
            <div class="hidden md:flex space-x-8">
                <a href="userinfo.html" class="text-gray-600 hover:text-blue-600">Dashboard</a>
                <a href="investmentplan.html" class="text-blue-600 font-medium">Investment Plan</a>
                <a href="referral.html" class="text-gray-600 hover:text-blue-600">Referral</a>
                <a href="transactions.html" class="text-gray-600 hover:text-blue-600">Transactions</a>
            </div>
            
            <!-- User Profile -->
            <div class="flex items-center space-x-4">
                <button class="text-gray-600 hover:text-blue-600 relative hidden md:block">
                    <i class="fas fa-bell"></i>
                    <span class="absolute top-0 right-0 w-2 h-2 bg-red-500 rounded-full"></span>
                </button>
                <div class="flex items-center cursor-pointer hidden md:flex" id="user-profile">
                    <div class="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-bold" id="user-initials">--</div>
                    <span class="ml-2 text-gray-700" id="user-name">Loading...</span>
                </div>
                <button id="logout-btn" class="hidden md:block text-gray-600 hover:text-blue-600">
                    <i class="fas fa-sign-out-alt"></i>
                </button>
            </div>
            
            <!-- Mobile Menu Button -->
            <button id="mobile-menu-button" class="md:hidden text-gray-600">
                <i class="fas fa-bars text-xl"></i>
            </button>
        </div>
    </nav>

    <!-- Mobile Menu Overlay -->
    <div id="menu-overlay" class="menu-overlay"></div>
    
    <!-- Mobile Menu -->
    <div id="mobile-menu" class="mobile-menu">
        <div class="h-full flex flex-col">
            <!-- Menu Header -->
            <div class="p-4 border-b border-gray-200 flex justify-between items-center">
                <h2 class="text-xl font-bold">Menu</h2>
                <button id="close-menu-button" class="text-gray-600">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            
            <!-- Menu Items -->
            <div class="flex-1 overflow-y-auto p-4">
                <ul class="space-y-2">
                    <li>
                        <a href="userinfo.html" class="flex items-center p-3 rounded-lg hover:bg-blue-50 text-gray-700">
                            <i class="fas fa-tachometer-alt w-6 text-blue-500  mr-3"></i>
                            <span class="font-medium">Dashboard</span>
                        </a>
                    </li>
                    <li>
                        <a href="investmentplan.html" class="flex items-center p-3 rounded-lg hover:bg-blue-50 text-blue-600">
                            <i class="fas fa-chart-line w-6 text-blue-500 mr-3"></i>
                            <span class="font-medium">Investment Plan</span>
                        </a>
                    </li>
                    <li>
                        <a href="transactions.html" class="flex items-center p-3 rounded-lg hover:bg-blue-50 text-gray-700">
                            <i class="fas fa-wallet w-6 text-blue-500 mr-3"></i>
                            <span class="font-medium">Transaction</span>
                        </a>
                    </li>
                    <li>
                        <a href="referral.html" class="flex items-center p-3 rounded-lg hover:bg-blue-50 text-gray-700">
                            <i class="fas fa-users w-6 text-blue-500 mr-3"></i>
                            <span class="font-medium">Referral</span>
                        </a>
                    </li>
                </ul>
                
                <!-- Mobile User Info -->
                <div class="mt-8 p-3 border-t border-gray-200">
                    <div class="flex items-center">
                        <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-bold" id="mobile-user-initials">--</div>
                        <div class="ml-3">
                            <p class="font-medium text-gray-800" id="mobile-user-name">Loading...</p>
                            <button id="mobile-logout-btn" class="text-sm text-blue-600">Logout</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="container mx-auto px-4 py-12">
        <!-- Page Header -->
        <div class="text-center mb-16">
            <h2 class="text-3xl md:text-4xl font-bold text-gray-800 mb-4">Choose Your Investment Plan</h2>
            <p class="text-xl text-gray-600 max-w-3xl mx-auto">Select the perfect plan that matches your investment goals and risk appetite.</p>
        </div>
        
        <!-- Investment Plans Grid -->
        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
            <!-- Plan 1 -->
            <div class="plan-card bg-white rounded-xl shadow-md overflow-hidden transition-all duration-300">
                <div class="bg-blue-50 p-6">
                    <h3 class="text-xl font-bold text-gray-800 mb-2">Starter</h3>
                    <p class="text-gray-600">Perfect for beginners in crypto investing</p>
                </div>
                <div class="p-6">
                    <div class="flex items-end mb-6">
                        <span class="text-4xl font-bold text-gray-800">5%</span>
                        <span class="text-gray-500 ml-1">weekly return</span>
                    </div>
                    <ul class="space-y-3 mb-8">
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-500 mr-2"></i>
                            <span class="text-gray-700">Minimum deposit: $100</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-500 mr-2"></i>
                            <span class="text-gray-700">6 month duration</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-500 mr-2"></i>
                            <span class="text-gray-700">Capital protection</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-500 mr-2"></i>
                            <span class="text-gray-700">24/7 support</span>
                        </li>
                    </ul>
                    <button class="w-full py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors choose-plan-btn" data-plan="starter" data-min="100" data-return="5">
                        Invest Using Balance
                    </button>
                </div>
            </div>
            
            <!-- Plan 2 (Featured) -->
            <div class="plan-card bg-white rounded-xl shadow-lg overflow-hidden transition-all duration-300 border-2 border-blue-500">
                <div class="bg-blue-100 p-6 relative">
                    <div class="absolute top-4 right-4 bg-blue-600 text-white text-xs font-bold px-2 py-1 rounded">
                        POPULAR
                    </div>
                    <h3 class="text-xl font-bold text-gray-800 mb-2">Growth Plan</h3>
                    <p class="text-gray-600">Balanced growth with moderate risk</p>
                </div>
                <div class="p-6">
                    <div class="flex items-end mb-6">
                        <span class="text-4xl font-bold text-gray-800">8%</span>
                        <span class="text-gray-500 ml-1">weekly return</span>
                    </div>
                    <ul class="space-y-3 mb-8">
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-500 mr-2"></i>
                            <span class="text-gray-700">Minimum deposit: $500</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-500 mr-2"></i>
                            <span class="text-gray-700">12 month duration</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-500 mr-2"></i>
                            <span class="text-gray-700">90% capital protection</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-500 mr-2"></i>
                            <span class="text-gray-700">Priority support</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-500 mr-2"></i>
                            <span class="text-gray-700">Weekly market reports</span>
                        </li>
                    </ul>
                    <button class="w-full py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors choose-plan-btn" data-plan="growth" data-min="500" data-return="8">
                       Invest Using Balance
                    </button>
                </div>
            </div>
            
            <!-- Plan 3 -->
            <div class="plan-card bg-white rounded-xl shadow-md overflow-hidden transition-all duration-300">
                <div class="bg-blue-50 p-6">
                    <h3 class="text-xl font-bold text-gray-800 mb-2">Pro Plan</h3>
                    <p class="text-gray-600">High returns for experienced investors</p>
                </div>
                <div class="p-6">
                    <div class="flex items-end mb-6">
                        <span class="text-4xl font-bold text-gray-800">12%</span>
                        <span class="text-gray-500 ml-1">weekly return</span>
                    </div>
                    <ul class="space-y-3 mb-8">
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-500 mr-2"></i>
                            <span class="text-gray-700">Minimum deposit: $2,000</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-500 mr-2"></i>
                            <span class="text-gray-700">24 month duration</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-500 mr-2"></i>
                            <span class="text-gray-700">Diversified portfolio</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-500 mr-2"></i>
                            <span class="text-gray-700">Dedicated account manager</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-500 mr-2"></i>
                            <span class="text-gray-700">Daily market insights</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-500 mr-2"></i>
                            <span class="text-gray-700">Exclusive webinars</span>
                        </li>
                    </ul>
                    <button class="w-full py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors choose-plan-btn" data-plan="pro" data-min="2000" data-return="12">
                        Invest Using Balance
                    </button>
                </div>
            </div>
            
            <!-- Plan 4 - Premium Plan -->
            <div class="plan-card bg-white rounded-xl shadow-md overflow-hidden transition-all duration-300">
                <div class="bg-purple-50 p-6">
                    <h3 class="text-xl font-bold text-gray-800 mb-2">Premium Plan</h3>
                    <p class="text-gray-600">Enhanced returns for serious investors</p>
                </div>
                <div class="p-6">
                    <div class="flex items-end mb-6">
                        <span class="text-4xl font-bold text-gray-800">15%</span>
                        <span class="text-gray-500 ml-1">weekly return</span>
                    </div>
                    <ul class="space-y-3 mb-8">
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-500 mr-2"></i>
                            <span class="text-gray-700">Minimum deposit: $5,000</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-500 mr-2"></i>
                            <span class="text-gray-700">36 month duration</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-500 mr-2"></i>
                            <span class="text-gray-700">Portfolio diversification</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-500 mr-2"></i>
                            <span class="text-gray-700">Personal financial advisor</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-500 mr-2"></i>
                            <span class="text-gray-700">Daily trading signals</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-500 mr-2"></i>
                            <span class="text-gray-700">VIP customer support</span>
                        </li>
                    </ul>
                    <button class="w-full py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-medium transition-colors choose-plan-btn" data-plan="premium" data-min="5000" data-return="15">
                        Invest Using Balance
                    </button>
                </div>
            </div>
            
            <!-- Plan 5 - VIP Plan -->
            <div class="plan-card bg-white rounded-xl shadow-lg overflow-hidden transition-all duration-300 border-2 border-yellow-500">
                <div class="bg-yellow-50 p-6 relative">
                    <div class="absolute top-4 right-4 bg-yellow-600 text-white text-xs font-bold px-2 py-1 rounded">
                        EXCLUSIVE
                    </div>
                    <h3 class="text-xl font-bold text-gray-800 mb-2">VIP Plan</h3>
                    <p class="text-gray-600">Ultimate investment experience</p>
                </div>
                <div class="p-6">
                    <div class="flex items-end mb-6">
                        <span class="text-4xl font-bold text-gray-800">20%</span>
                        <span class="text-gray-500 ml-1">weekly return</span>
                    </div>
                    <ul class="space-y-3 mb-8">
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-500 mr-2"></i>
                            <span class="text-gray-700">Minimum deposit: $10,000</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-500 mr-2"></i>
                            <span class="text-gray-700">48 month duration</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-500 mr-2"></i>
                            <span class="text-gray-700">Custom investment strategy</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-500 mr-2"></i>
                            <span class="text-gray-700">Dedicated investment team</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-500 mr-2"></i>
                            <span class="text-gray-700">Real-time portfolio tracking</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-500 mr-2"></i>
                            <span class="text-gray-700">Private consultations</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-500 mr-2"></i>
                            <span class="text-gray-700">Exclusive investment opportunities</span>
                        </li>
                    </ul>
                    <button class="w-full py-3 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 font-medium transition-colors choose-plan-btn" data-plan="vip" data-min="10000" data-return="20">
                       Invest Using Balance
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Investment Modal -->
    <div id="investment-modal" class="investment-modal">
        <div class="investment-modal-content">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-xl font-bold text-gray-800" id="modal-plan-name">Investment Plan</h3>
                <button id="close-investment-modal" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            
            <div class="bg-blue-50 p-4 rounded-lg mb-6">
                <div class="flex justify-between items-center mb-2">
                    <span class="text-gray-600">Weekly Return:</span>
                    <span class="font-semibold text-blue-700" id="modal-return-rate">0%</span>
                </div>
                <div class="flex justify-between items-center">
                    <span class="text-gray-600">Minimum Investment:</span>
                    <span class="font-semibold text-blue-700" id="modal-min-amount">$0</span>
                </div>
            </div>
            
            <div class="mb-6">
                <label for="investment-amount" class="block text-sm font-medium text-gray-700 mb-2">Investment Amount ($)</label>
                <input type="number" id="investment-amount" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="Enter amount" min="0">
                <p class="text-xs text-gray-500 mt-2" id="amount-error"></p>
            </div>
            
            <div class="bg-gray-50 p-4 rounded-lg mb-6">
                <h4 class="font-medium text-gray-700 mb-2">Estimated Returns</h4>
                <div class="flex justify-between items-center mb-1">
                    <span class="text-gray-600">Weekly Earnings:</span>
                    <span class="font-semibold" id="estimated-weekly">$0.00</span>
                </div>
                <div class="flex justify-between items-center">
                    <span class="text-gray-600">Yearly Earnings:</span>
                    <span class="font-semibold" id="estimated-yearly">$0.00</span>
                </div>
            </div>
            
            <div class="flex space-x-4">
                <button id="cancel-investment" class="flex-1 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition-colors">
                    Close
                </button>
                <button id="confirm-investment" class="flex-1 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors">
                    <span id="confirm-text">Invest Now</span>
                    <span id="confirm-loading" class="loading hidden"></span>
                </button>
            </div>
        </div>
    </div>

    <!-- Deposit Required Modal -->
    <div id="deposit-modal" class="modal">
        <div class="modal-content">
            <div class="text-center">
                <div class="mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-yellow-100">
                    <i class="fas fa-exclamation-triangle text-yellow-600"></i>
                </div>
                <h3 class="text-lg font-medium text-gray-900 mt-3">Deposit Required</h3>
                <div class="mt-2">
                    <p class="text-sm text-gray-500">You need to deposit funds before you can initiate an investment.</p>
                </div>
                <div class="mt-4 flex justify-center space-x-4">
                    <button type="button" id="cancel-modal" class="px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                        Maybe Later
                    </button>
                    <a href="deposite.html"><button type="button" id="go-to-deposit" class="px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                        Go to Deposit Page
                    </button></a>
                </div>
            </div>
        </div>
    </div>

    <!-- API Error Modal -->
    <div id="error-modal" class="modal">
        <div class="modal-content">
            <div class="text-center">
                <div class="mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100">
                    <i class="fas fa-exclamation-circle text-red-600"></i>
                </div>
                <h3 class="text-lg font-medium text-gray-900 mt-3" id="error-title">Error</h3>
                <div class="mt-2">
                    <p class="text-sm text-gray-500" id="error-message">An error occurred while processing your request.</p>
                </div>
                <div class="mt-4">
                    <button type="button" id="close-error-modal" class="px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                        OK
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div id="success-modal" class="modal">
        <div class="modal-content">
            <div class="text-center">
                <div class="mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100">
                    <i class="fas fa-check-circle text-green-600"></i>
                </div>
                <h3 class="text-lg font-medium text-gray-900 mt-3">Success!</h3>
                <div class="mt-2">
                    <p class="text-sm text-gray-500" id="success-message">Your investment has been created successfully.</p>
                </div>
                <div class="mt-4">
                    <button type="button" id="close-success-modal" class="px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                        Continue
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Login Modal -->
    <div id="login-modal" class="modal">
        <div class="modal-content">
            <div class="text-center">
                <div class="mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-blue-100">
                    <i class="fas fa-user text-blue-600"></i>
                </div>
                <h3 class="text-lg font-medium text-gray-900 mt-3">Login Required</h3>
                <div class="mt-2">
                    <p class="text-sm text-gray-500">Please login to continue with your investment.</p>
                </div>
                <div class="mt-6">
                    <div class="mb-4">
                        <label for="login-email" class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                        <input type="email" id="login-email" class="w-full px-3 py-2 border border-gray-300 rounded-md" placeholder="Enter your email" value="user@example.com">
                    </div>
                    <div class="mb-6">
                        <label for="login-password" class="block text-sm font-medium text-gray-700 mb-1">Password</label>
                        <input type="password" id="login-password" class="w-full px-3 py-2 border border-gray-300 rounded-md" placeholder="Enter your password" value="string">
                    </div>
                </div>
                <div class="mt-4 flex justify-center space-x-4">
                    <button type="button" id="cancel-login-modal" class="px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50">
                        Cancel
                    </button>
                    <button type="button" id="confirm-login" class="px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700">
                        Login
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-900 text-gray-300 pt-16 pb-8">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-2 md:grid-cols-6 gap-8 mb-12">
                <div>
                    <h4 class="text-white font-semibold mb-4">Resources</h4>
                    <ul class="space-y-2">
                        <li><a href="aboutUs.html" class="hover:text-white">About Us</a></li>
                        <li><a href="support.html" class="hover:text-white">Contact Support</a></li>
                        <li><a href="#" class="hover:text-white">Blog Posts</a></li>
                        <li><a href="support.html" class="hover:text-white">FAQs</a></li>
                        <li><a href="support.html" class="hover:text-white">Community</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-white font-semibold mb-4">Legal Info</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="hover:text-white">Terms of Use</a></li>
                        <li><a href="#" class="hover:text-white">Privacy Policy</a></li>
                        <li><a href="#" class="hover:text-white">Risk Disclosure</a></li>
                        <li><a href="#" class="hover:text-white">Help Center</a></li>
                        <li><a href="#" class="hover:text-white">User Guide</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-white font-semibold mb-4">Support</h4>
                    <ul class="space-y-2">
                        <li><a href="support.html" class="hover:text-white">Chat Now</a></li>
                        <li><a href="support.html" class="hover:text-white">Email Us</a></li>
                        <li><a href="support.html" class="hover:text-white">Call Support</a></li>
                        <li><a href="support.html" class="hover:text-white">Feedback</a></li>
                        <li><a href="support.html" class="hover:text-white">Careers at Lexbit</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-white font-semibold mb-4">Company Info</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="hover:text-white">Press Releases</a></li>
                        <li><a href="#" class="hover:text-white">Investor Relations</a></li>
                        <li><a href="#" class="hover:text-white">Partnership Opportunities</a></li>
                        <li><a href="#" class="hover:text-white">Terms of Service</a></li>
                        <li><a href="#" class="hover:text-white">Privacy Commitment</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-white font-semibold mb-4">Get Started</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="hover:text-white">Join Our Community</a></li>
                        <li><a href="#" class="hover:text-white">Follow Us Online</a></li>
                        <li><a href="#" class="hover:text-white">Stay Updated</a></li>
                        <li><a href="#" class="hover:text-white">Latest News</a></li>
                        <li><a href="support.html" class="hover:text-white">Contact Us</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="border-t border-gray-800 pt-8 flex flex-col md:flex-row justify-between items-center">
                <div class="flex items-center mb-4 md:mb-0 gap-2">
                   <i class="fas fa-coins text-2xl text-yellow-400"></i>
                    <a href="index.html"><h1 class="text-2xl font-bold">LexBit</h1></a>
                </div>
                <div class="text-sm text-gray-500">
                    Â© 2025 Lexbit. All rights reserved.
                </div>
            </div>
        </div>
    </footer>

    <script>
        // API Configuration
        const API_BASE_URL = 'https://lexbit.onrender.com';
        let currentPlan = null;
        let authToken = localStorage.getItem('authToken');
        let currentUser = null;
        
        // Mobile menu functionality
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const closeMenuButton = document.getElementById('close-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        const menuOverlay = document.getElementById('menu-overlay');
        
        // Toggle mobile menu
        function toggleMobileMenu() {
            mobileMenu.classList.toggle('active');
            menuOverlay.classList.toggle('active');
            document.body.style.overflow = mobileMenu.classList.contains('active') ? 'hidden' : '';
        }
        
        // Open mobile menu
        mobileMenuButton.addEventListener('click', toggleMobileMenu);
        
        // Close mobile menu
        closeMenuButton.addEventListener('click', toggleMobileMenu);
        menuOverlay.addEventListener('click', toggleMobileMenu);
        
        // Close menu when clicking on a menu item
        document.querySelectorAll('#mobile-menu a').forEach(link => {
            link.addEventListener('click', toggleMobileMenu);
        });
        
        // Get modal elements
        const modal = document.getElementById('deposit-modal');
        const cancelBtn = document.getElementById('cancel-modal');
        const depositBtn = document.getElementById('go-to-deposit');
        const planButtons = document.querySelectorAll('.choose-plan-btn');
        
        // Investment modal elements
        const investmentModal = document.getElementById('investment-modal');
        const closeInvestmentModal = document.getElementById('close-investment-modal');
        const cancelInvestment = document.getElementById('cancel-investment');
        const confirmInvestment = document.getElementById('confirm-investment');
        const confirmText = document.getElementById('confirm-text');
        const confirmLoading = document.getElementById('confirm-loading');
        const investmentAmount = document.getElementById('investment-amount');
        const amountError = document.getElementById('amount-error');
        const modalPlanName = document.getElementById('modal-plan-name');
        const modalReturnRate = document.getElementById('modal-return-rate');
        const modalMinAmount = document.getElementById('modal-min-amount');
        const estimatedWeekly = document.getElementById('estimated-weekly');
        const estimatedYearly = document.getElementById('estimated-yearly');
        
        // Error and success modals
        const errorModal = document.getElementById('error-modal');
        const errorTitle = document.getElementById('error-title');
        const errorMessage = document.getElementById('error-message');
        const closeErrorModal = document.getElementById('close-error-modal');
        const successModal = document.getElementById('success-modal');
        const successMessage = document.getElementById('success-message');
        const closeSuccessModal = document.getElementById('close-success-modal');
        
        // Login modal elements
        const loginModal = document.getElementById('login-modal');
        const loginEmail = document.getElementById('login-email');
        const loginPassword = document.getElementById('login-password');
        const confirmLogin = document.getElementById('confirm-login');
        const cancelLoginModal = document.getElementById('cancel-login-modal');
        
        // Logout button
        const logoutBtn = document.getElementById('logout-btn');
        const mobileLogoutBtn = document.getElementById('mobile-logout-btn');
        
        // Function to show error modal
        function showError(title, message) {
            errorTitle.textContent = title;
            errorMessage.textContent = message;
            errorModal.style.display = 'flex';
        }
        
        // Function to show success modal
        function showSuccess(message) {
            successMessage.textContent = message;
            successModal.style.display = 'flex';
        }
        
        // Function to show login modal
        function showLoginModal() {
            loginModal.style.display = 'flex';
        }
        
        // Close error modal
        closeErrorModal.addEventListener('click', function() {
            errorModal.style.display = 'none';
        });
        
        // Close success modal
        closeSuccessModal.addEventListener('click', function() {
            successModal.style.display = 'none';
        });
        
        // Close login modal
        cancelLoginModal.addEventListener('click', function() {
            loginModal.style.display = 'none';
        });
        
        // API call function with authentication
        async function apiCall(url, options = {}) {
            const headers = {
                'Content-Type': 'application/json',
                'Accept': 'application/json',
                ...options.headers
            };
            
            // Add authorization header if token exists
            if (authToken) {
                headers['Authorization'] = `Bearer ${authToken}`;
            }
            
            try {
                const response = await fetch(url, {
                    ...options,
                    headers
                });
                
                // Handle unauthorized response
                if (response.status === 401) {
                    localStorage.removeItem('authToken');
                    authToken = null;
                    showLoginModal();
                    throw new Error('Authentication required');
                }
                
                const data = await response.json();
                
                if (!response.ok) {
                    throw new Error(data.message || `API error: ${response.status}`);
                }
                
                return data;
            } catch (error) {
                console.error('API call failed:', error);
                throw error;
            }
        }
        
        // Function to login user
        async function loginUser(email, password) {
            try {
                const response = await apiCall(`${API_BASE_URL}/login`, {
                    method: 'POST',
                    body: JSON.stringify({
                        email: email,
                        password: password
                    })
                });
                
                if (response.status_code === 200) {
                    authToken = response.data.access_token;
                    localStorage.setItem('authToken', authToken);
                    
                    // Close login modal
                    loginModal.style.display = 'none';
                    
                    // Get user info
                    await getCurrentUser();
                    
                    return true;
                } else {
                    throw new Error(response.message || 'Login failed');
                }
            } catch (error) {
                console.error('Login failed:', error);
                showError('Login Failed', error.message || 'Failed to login. Please try again.');
                return false;
            }
        }
        
        // Function to get current user info
        async function getCurrentUser() {
            try {
                if (!authToken) return;
                
                const userData = await apiCall(`${API_BASE_URL}/current_user`);
                currentUser = userData;
                
                // Update user info in the UI
                const userNameEl = document.getElementById('user-name');
                const userInitialsEl = document.getElementById('user-initials');
                const mobileUserNameEl = document.getElementById('mobile-user-name');
                const mobileUserInitialsEl = document.getElementById('mobile-user-initials');
                
                if (userData && userData.email) {
                    const userName = userData.name || userData.email.split('@')[0];
                    const initials = userName.split(' ').map(n => n[0]).join('').toUpperCase();
                    
                    userNameEl.textContent = userName;
                    userInitialsEl.textContent = initials;
                    mobileUserNameEl.textContent = userName;
                    mobileUserInitialsEl.textContent = initials;
                }
            } catch (error) {
                console.error('Failed to fetch user data:', error);
                // Don't redirect on error for this call as it's not critical
            }
        }
        
        // Function to create investment
        async function createInvestment(plan, amount) {
            try {
                // Show loading state
                confirmText.classList.add('hidden');
                confirmLoading.classList.remove('hidden');
                confirmInvestment.disabled = true;
                
                const response = await apiCall(`${API_BASE_URL}/investment/`,{
                    method: 'POST',
                    body: JSON.stringify({
                        plan: "starter",
                        amount: amount
                    })
                });
                
                // Show success message
                showSuccess(`Success! You've invested $${amount} in the ${currentPlan.name} plan.`);
                
                // Close investment modal
                investmentModal.classList.remove('active');
                
                return response;
            } catch (error) {
                console.error('Investment creation failed:', error);
                showError('Investment Failed', error.message || 'Failed to create investment. Please try again.');
                throw error;
            } finally {
                // Reset button state
                confirmText.classList.remove('hidden');
                confirmLoading.classList.add('hidden');
                confirmInvestment.disabled = false;
            }
        }
        
        // Function to check user balance (in a real app, this would be an API call)
        function checkUserBalance() {
            // For demo purposes, we'll check localStorage
            const storedBalance = localStorage.getItem('userBalance');
            return storedBalance ? parseFloat(storedBalance) : 0;
        }
        
        // Function to get plan details
        function getPlanDetails(plan) {
            const planDetails = {
                'starter': { name: 'Starter Plan', min: 100, return: 5 },
                'growth': { name: 'Growth Plan', min: 500, return: 8 },
                'pro': { name: 'Pro Plan', min: 2000, return: 12 },
                'premium': { name: 'Premium Plan', min: 5000, return: 15 },
                'vip': { name: 'VIP Plan', min: 10000, return: 20 }
            };
            return planDetails[plan] || { name: 'Investment Plan', min: 0, return: 0 };
        }
        
        // Function to show investment modal
        function showInvestmentModal(plan) {
            // Check if user is authenticated
            if (!authToken) {
                showLoginModal();
                return;
            }
            
            currentPlan = getPlanDetails(plan);
            
            // Update modal with plan details
            modalPlanName.textContent = currentPlan.name;
            modalReturnRate.textContent = `${currentPlan.return}%`;
            modalMinAmount.textContent = `$${currentPlan.min.toLocaleString()}`;
            
            // Set minimum amount as placeholder
            investmentAmount.placeholder = `Min: $${currentPlan.min}`;
            investmentAmount.min = currentPlan.min;
            
            // Reset input and calculations
            investmentAmount.value = '';
            updateCalculations(0, currentPlan.return);
            
            // Show the modal
            investmentModal.classList.add('active');
            
            // Close mobile menu if open
            mobileMenu.classList.remove('active');
            menuOverlay.classList.remove('active');
        }
        
        // Function to update return calculations
        function updateCalculations(amount, returnRate) {
            const weeklyEarnings = (amount * returnRate / 100).toFixed(2);
            const yearlyEarnings = (weeklyEarnings * 52).toFixed(2);
            
            estimatedWeekly.textContent = `$${weeklyEarnings}`;
            estimatedYearly.textContent = `$${yearlyEarnings}`;
        }
        
        // Add click event to all plan buttons
        planButtons.forEach(button => {
            button.addEventListener('click', function() {
                const plan = this.getAttribute('data-plan');
                const minAmount = parseFloat(this.getAttribute('data-min'));
                const userBalance = checkUserBalance();
                
                // Check if user has sufficient balance for the selected plan
                if (userBalance >= minAmount) {
                    // Show investment modal
                    showInvestmentModal(plan);
                } else {
                    // Show deposit required modal
                    showDepositModal(minAmount);
                }
            });
        });
        
        // Function to show deposit modal
        function showDepositModal(requiredAmount) {
            // Update modal message to show required amount
            const message = document.querySelector('#deposit-modal .text-sm.text-gray-500');
            message.textContent = `You need to deposit at least $${requiredAmount} to invest in this plan.`;
            
            // Show the modal
            modal.style.display = 'flex';
            
            // Close mobile menu if open
            mobileMenu.classList.remove('active');
            menuOverlay.classList.remove('active');
        }
        
        // Close modals
        closeInvestmentModal.addEventListener('click', function() {
            investmentModal.classList.remove('active');
        });
        
        cancelInvestment.addEventListener('click', function() {
            investmentModal.classList.remove('active');
        });
        
        cancelBtn.addEventListener('click', function() {
            modal.style.display = 'none';
        });
        
        // Close modals when clicking outside
        window.addEventListener('click', function(event) {
            if (event.target === investmentModal) {
                investmentModal.classList.remove('active');
            }
            if (event.target === modal) {
                modal.style.display = 'none';
            }
            if (event.target === errorModal) {
                errorModal.style.display = 'none';
            }
            if (event.target === successModal) {
                successModal.style.display = 'none';
            }
            if (event.target === loginModal) {
                loginModal.style.display = 'none';
            }
        });
        
        // Calculate returns when amount changes
        investmentAmount.addEventListener('input', function() {
            const amount = parseFloat(this.value) || 0;
            const minAmount = currentPlan.min;
            
            // Validate amount
            if (amount > 0 && amount < minAmount) {
                amountError.textContent = `Minimum investment is $${minAmount}`;
                amountError.classList.add('text-red-500');
            } else {
                amountError.textContent = '';
                amountError.classList.remove('text-red-500');
            }
            
            // Update calculations
            updateCalculations(amount, currentPlan.return);
        });
        
        // Handle investment confirmation
        confirmInvestment.addEventListener('click', function() {
            const amount = parseFloat(investmentAmount.value) || 0;
            const minAmount = currentPlan.min;
            
            // Validate amount
            if (amount < minAmount) {
                amountError.textContent = `Minimum investment is $${minAmount}`;
                amountError.classList.add('text-red-500');
                return;
            }
            
            // Create investment via API
            createInvestment(currentPlan.name.toLowerCase(), amount);
        });
        
        // Handle login
        confirmLogin.addEventListener('click', async function() {
            const email = loginEmail.value;
            const password = loginPassword.value;
            
            if (!email || !password) {
                showError('Login Error', 'Please enter both email and password');
                return;
            }
            
            const loginSuccess = await loginUser(email, password);
            
            if (loginSuccess) {
                // After successful login, show the investment modal again
                if (currentPlan) {
                    showInvestmentModal(currentPlan.name.toLowerCase());
                }
            }
        });
        
        // Handle logout
        function handleLogout() {
            localStorage.removeItem('authToken');
            authToken = null;
            currentUser = null;
            
            // Reset user info in the UI
            document.getElementById('user-name').textContent = 'Guest';
            document.getElementById('user-initials').textContent = 'G';
            document.getElementById('mobile-user-name').textContent = 'Guest';
            document.getElementById('mobile-user-initials').textContent = 'G';
            
            // Show login modal if trying to access protected features
            showLoginModal();
        }
        
        if (logoutBtn) {
            logoutBtn.addEventListener('click', handleLogout);
        }
        
        if (mobileLogoutBtn) {
            mobileLogoutBtn.addEventListener('click', handleLogout);
        }
        
        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            // Get user info when page loads if token exists
            if (authToken) {
                getCurrentUser();
            } else {
                // Show user as guest
                document.getElementById('user-name').textContent = 'Guest';
                document.getElementById('user-initials').textContent = 'G';
                document.getElementById('mobile-user-name').textContent = 'Guest';
                document.getElementById('mobile-user-initials').textContent = 'G';
            }
            
            // Demo function to set a balance (for testing)
            function setDemoBalance(amount) {
                localStorage.setItem('userBalance', amount.toString());
                console.log(`Demo balance set to $${amount}`);
            }
            
            // Set a demo balance for testing
            setDemoBalance(10000);    // Enough for all plans
        });
    </script>
</body>
</html>